<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="shortcut icon" href="../images/common/favicon.png" type="image/x-icon" />
    <title>HB페이퍼</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100;300;400;500;700;900&family=Roboto:wght@100;300;400;500;700;900&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons|Material+Icons+Outlined|Material+Icons+Two+Tone|Material+Icons+Round|Material+Icons+Sharp" rel="stylesheet" />

    <link rel="stylesheet" href="../css/reset.css" />
    <link rel="stylesheet" href="../css/swiper-bundle.css" />
    <link rel="stylesheet" href="../css/splitting.css" />
    <link rel="stylesheet" href="../css/aos.css" />
    <link rel="stylesheet" href="../css/fullpage.css" />
    <link rel="stylesheet" href="../css/layout.css" />
    <link rel="stylesheet" href="../css/main.css" />

    <script src="../js/swiper-bundle.min.js"></script>
    <script src="https://kit.fontawesome.com/5f5f753b4c.js" crossorigin="anonymous"></script>
    <script src="../js/gsap/gsap.min.js"></script>
    <script src="../js/gsap/ScrollToPlugin.min.js"></script>
    <script src="../js/splitting.min.js"></script>
    <script src="../js/aos.js"></script>
    <script src="../js/circletype.min.js"></script>
    <script src="../js/fullpage.min.js"></script>
  </head>
  <body>
    <header id="header">
      <div class="container">
        <h1 id="logo">
          <a href="">
            <img src="../images/layout/hd_logo_w.png" alt="" class="logo-white" />
            <img src="../images/layout/hd_logo_c.png" alt="" class="logo-color" />
          </a>
        </h1>
        <nav id="gnb">
          <ul class="list">
            <li>
              <a href="" class="depth01">회사소개</a>
              <ul class="depth02">
                <li><a href="">HB PAPER 소개</a></li>
                <li><a href="">히스토리</a></li>
                <li><a href="">인증서 및 수상내역</a></li>
              </ul>
            </li>
            <li>
              <a href="" class="depth01">사업소개</a>
              <ul class="depth02">
                <li><a href="">사업분야</a></li>
                <li><a href="">기술 및 설비</a></li>
              </ul>
            </li>
            <li>
              <a href="" class="depth01">제품소개</a>
              <ul class="depth02">
                <li><a href="">종이식품용기</a></li>
                <li><a href="">종이봉투</a></li>
                <li><a href="">브라운메일러</a></li>
                <li><a href="">종이쇼핑백</a></li>
                <li><a href="">종이테이프</a></li>
                <li><a href="">종이완충재</a></li>
                <li><a href="">특수지</a></li>
              </ul>
            </li>
            <li>
              <a href="" class="depth01">고객센터</a>
              <ul class="depth02">
                <li><a href="">공지사항</a></li>
                <li><a href="">보도자료</a></li>
                <li><a href="">온라인문의</a></li>
                <li><a href="">찾아오시는 길</a></li>
              </ul>
            </li>
          </ul>
        </nav>
        <div class="util">
          <div class="language">
            <button>KOR</button>
            <ul>
              <li><a href="">kor</a></li>
              <li><a href="">eng</a></li>
            </ul>
          </div>
        </div>
      </div>
    </header>
    <!-- header end -->
    <main id="main">
      <div id="main-visual" class="section">
        <div class="mask">
          <ul class="swiper-wrapper">
            <li class="visual01 swiper-slide">
              <div class="img"></div>
              <div class="txt" data-splitting>
                <p class="sub">자연의 선순환을 꿈꾸며 진환경 포장 문화를 만들어 가는 기업</p>
                <p class="main"><strong>HB paper</strong></p>
              </div>
            </li>
            <li class="visual02 swiper-slide">
              <div class="img"></div>
              <div class="txt" data-splitting>
                <p class="sub">그 소중한 가치를 알기에 우리는 돌아가려고 합니다.</p>
                <p class="main"><strong>자연으로, 스마트하게</strong></p>
              </div>
            </li>
          </ul>
        </div>
        <div class="pagination"></div>
      </div>
      <!-- main-visual end -->
      <section id="business" class="section">
        <div class="container">
          <div class="title-box">
            <h2>BUSINESS AREA</h2>
            <p>
              PFAS Free, Repulpable, Compostable의 가치는 <br />
              우리 HB PAPER가 나아가고자 하는 사업방향입니다.
            </p>
          </div>
          <ul>
            <li>
              <a href="">
                <img src="../images/main/main_01.jpg" alt="" />
                <div class="txt">
                  <h3>종이가공</h3>
                  <p>식품포장 · 테이크아웃 · 이커머스</p>
                </div>
              </a>
            </li>
            <li>
              <a href="">
                <img src="../images/main/main_02.jpg" alt="" />
                <div class="txt">
                  <h3>특수지</h3>
                  <p>친환경 코팅 · 친환경 인쇄</p>
                </div>
              </a>
            </li>
          </ul>
          <div class="circle-txt">be nature, be smart</div>
        </div>
      </section>
      <section id="product" class="section">
        <div class="mask">
          <ul class="swiper-wrapper">
            <li class="swiper-slide product01">
              <div class="container">
                <div class="title-box">
                  <h2>product</h2>
                  <strong>종이식품용기</strong>
                  <p>
                    자체개발한 PFAS free 소재의 수용성 코팅을 적용한 <br />
                    다양한 형태의 종이식품용기는 코팅 마감에 균열이 없어 <br />
                    어떠한 식품도 안전하게 포장할 수 있습니다.
                  </p>
                  <a href="">more view</a>
                </div>
              </div>
            </li>
            <li class="swiper-slide product02">
              <div class="container">
                <div class="title-box">
                  <h2>product</h2>
                  <strong>종이봉투</strong>
                  <p>
                    각대봉투, 새철봉투, 창봉투 등 고객의 요구사항에 맞는 <br />
                    다양한 종이봉투의 제작이 가능하며, 고품질의 크라프트 종이를 <br />
                    사용하여 강도가 우수합니다.
                  </p>
                  <a href="">more view</a>
                </div>
              </div>
            </li>
            <li class="swiper-slide product03">
              <div class="container">
                <div class="title-box">
                  <h2>product</h2>
                  <strong>브라운메일러</strong>
                  <p>
                    친환경 종이로 만든 허니콤 완충재를 적용한 브라운 메일러는 <br />
                    기존 플라스틱 에어캡을 대체하여 제품을 안전하게 보호하고, <br />
                    친환경 수성 잉크를 사용한 고품질의 인쇄가 가능합니다.
                  </p>
                  <a href="">more view</a>
                </div>
              </div>
            </li>
            <li class="swiper-slide product04">
              <div class="container">
                <div class="title-box">
                  <h2>product</h2>
                  <strong>종이쇼핑백</strong>
                  <p>
                    고품질의 크라프트 종이로 직접 생산하여 품질이 뛰어나고, <br />
                    자체 보유한 최고급 인쇄기와 친환경 수성 잉크를 사용하여<br />
                    고해상도.고품질의 인쇄가 가능합니다.
                  </p>
                  <a href="">more view</a>
                </div>
              </div>
            </li>
            <li class="swiper-slide product05">
              <div class="container">
                <div class="title-box">
                  <h2>product</h2>
                  <strong>종이테이프</strong>
                  <p>
                    천연 성분으로 만들어 인체에 무해하고 <br />
                    믿을 수 있는 품질의 종이 테이프는 <br />
                    편리하게 사용할 수 있으며 강한 접착력을 자랑합니다.
                  </p>
                  <a href="">more view</a>
                </div>
              </div>
            </li>
            <li class="swiper-slide product06">
              <div class="container">
                <div class="title-box">
                  <h2>product</h2>
                  <strong>종이식품용기</strong>
                  <p>
                    자체개발한 PFAS free 소재의 수용성 코팅을 적용한 <br />
                    다양한 형태의 종이식품용기는 코팅 마감에 균열이 없어 <br />
                    어떠한 식품도 안전하게 포장할 수 있습니다.
                  </p>
                  <a href="">more view</a>
                </div>
              </div>
            </li>
            <li class="swiper-slide product07">
              <div class="container">
                <div class="title-box">
                  <h2>product</h2>
                  <strong>종이식품용기</strong>
                  <p>
                    자체개발한 PFAS free 소재의 수용성 코팅을 적용한 <br />
                    다양한 형태의 종이식품용기는 코팅 마감에 균열이 없어 <br />
                    어떠한 식품도 안전하게 포장할 수 있습니다.
                  </p>
                  <a href="">more view</a>
                </div>
              </div>
            </li>
          </ul>
        </div>
        <div class="control-box">
          <div class="container">
            <div class="pagination-box">
              <div class="pagination"></div>
              <div class="line"></div>
            </div>
            <div class="btns">
              <button class="btn btn-play"><i class="fa-solid fa-play"></i></button>
              <button class="btn btn-pause"><i class="fa-solid fa-pause"></i></button>
            </div>
          </div>
        </div>
        <div class="circle-txt">be nature, be smart</div>
      </section>
      <section id="news" class="section">
        <div class="container">
          <div class="title-box">
            <h2>NEWS & NOTICE</h2>
            <strong>
              HB PAPER의 <br />
              새로운 순간들
            </strong>
            <p>HB PAPER의 다양한 소식들을 확인해보세요.</p>
            <a href="">more view</a>
          </div>
          <div class="contents-box">
            <div class="notice">
              <span class="sticker">공지사항</span>
              <p>HB페이퍼 공식 홈페이지가 새롭게 개설되었습니다.</p>
              <span class="date">2022-09-13</span>
            </div>
            <div class="notice-list-box">
              <ul class="swiper-wrapper">
                <li class="swiper-slide">
                  <a href="">
                    <span class="sticker">공지사항</span>
                    <p>안녕하세요. HB페이퍼 입니다. HB 페이퍼 홈페이지를 새로 만들었습니다.</p>
                    <span class="more"></span>
                  </a>
                </li>
                <li class="swiper-slide">
                  <a href="">
                    <span class="sticker">공지사항</span>
                    <p>안녕하세요. HB페이퍼 입니다. HB 페이퍼 홈페이지를 새로 만들었습니다.</p>
                    <span class="more"></span>
                  </a>
                </li>
                <li class="swiper-slide">
                  <a href="">
                    <span class="sticker">공지사항</span>
                    <p>안녕하세요. HB페이퍼 입니다. HB 페이퍼 홈페이지를 새로 만들었습니다.</p>
                    <span class="more"></span>
                  </a>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </section>
      <footer id="footer" class="footer fp-auto-height section">
        <div class="util-box">
          <div class="container">
            <ul class="product-list">
              <li><a href="">종이식품용기</a></li>
              <li><a href="">종이봉투</a></li>
              <li><a href="">브라운메일러</a></li>
              <li><a href="">종이쇼핑백</a></li>
              <li><a href="">종이테이프</a></li>
              <li><a href="">종이완충재</a></li>
              <li><a href="">특수지</a></li>
            </ul>
            <ul class="util">
              <li><a href="">회사소개</a></li>
              <li><a href="">사업소개</a></li>
              <li><a href="">찾아오시는 길</a></li>
              <li><a href="">온라인문의</a></li>
            </ul>
          </div>
        </div>
        <div class="addr-box">
          <div class="container">
            <address>주소 : 충청남도 아산시 음봉면로92(삼거리91-2) TEL : 041-424-1188 E-Mail : admin@hbgroup.kr</address>
            <p>COPYRIGHTⓒ HB PAPER. ALL RIGHTS RESERVED. ADMIN</p>
          </div>
        </div>
      </footer>
    </main>

    <script>
      Splitting();

      const gnb = document.querySelector("#gnb");
      const header = document.querySelector("header");

      //익명함수: call back함수
      gnb.addEventListener("mouseenter", function () {
        header.classList.add("on");
      });
      gnb.addEventListener("mouseleave", function () {
        header.classList.remove("on");
      });
      // const headerOn = function () {
      //   header.classList.add("on");
      // };
      // const headerOff = function () {
      //   header.classList.remove("on");
      // };
      // gnb.addEventListener("mouseenter", headerOn);
      // gnb.addEventListener("mouseleave", headerOff);

      // const visual01TL = gsap.timeline();
      // const visual02TL = gsap.timeline();

      const visualTL = gsap.timeline();

      //비동기 (asynchronous) : 순서가 없이 작동하는 것. event붙어 있는건 대부분 비동기

      new Swiper("#main-visual .mask", {
        effect: "fade",
        initialSlide: 0,
        loop: true,
        on: {
          slideChange: function () {
            gsap.set("#main-visual li .sub .char", { opacity: 0, y: -100 });
            gsap.set("#main-visual li .main .char", { opacity: 0, x: 100 });
          },
          slideChangeTransitionEnd: function (swiper) {
            // if (swiper.realIndex === 0) {
            //   visual01TL.restart();
            //   visual02TL.pause(0);
            // } else {
            //   visual02TL.restart(); //쓸려는 것보다 위에 선언되어야 쓸 수 있다
            //   visual01TL.pause(0);
            // }
            visualTxtAni(); //함수 호출하는 것 (이건 이벤트 안에서 계속 호출되는 것)
            // visualTL.restart();
          },
        },
      });
      visualTxtAniReset();
      visualTxtAni(); //이건 이벤트 상관없이 한번 하고 끝. (이벤트 안에 있냐 없냐에 따라 반복되기도 하고 아니기도 한다!)

      function visualTxtAniReset() {
        gsap.set("#main-visual li .sub .char", { opacity: 0, y: -100 });
        gsap.set("#main-visual li .main .char", { opacity: 0, x: 100 });
      }

      //함수만들기 (함수를 선언한다!) 함수 선언 후 그 후에 호출하면 된다. 아래 있는 것을 끌어 올리는 hoisting.
      //hoisting 되기 때문에 아래에 존재해도 된다.
      function visualTxtAni() {
        visualTL
          .to("#main-visual .swiper-slide-active .sub .char", {
            y: 0,
            opacity: 1,
            ease: "power2",
            stagger: { each: 0.05 },
          })
          .to(
            "#main-visual .swiper-slide-active .main .char",
            {
              x: 0,
              opacity: 1,
              ease: "power2",
              stagger: { each: 0.1 },
            },
            ">-0.5"
          );
      }

      //함수만들기2 (함수를 변수에 넣는 것: 함수 표현식 expression)
      //이때는 변수에 넣었으니 아래 함수를 쓰기 전에 존재해야 한다! 즉, 위에 있어야 한다.
      const visualTxtAni02 = function () {
        visualTL
          .from("#main-visual .swiper-slide-active .sub .char", {
            y: -100,
            opacity: 0,
            ease: "power2",
            stagger: { each: 0.05 },
          })
          .from(
            "#main-visual .swiper-slide-active .main .char",
            {
              y: -100,
              opacity: 0,
              ease: "power2",
              stagger: { each: 0.1 },
            },
            ">-0.5"
          );
      };

      // 더 간단하게 만들기 // slide마다 만들수 없으니 위와 같이 active되는 것을 event안에 넣어준다. 그러면 자동으로 slide active되는 것만 적용된다.
      // visual01TL
      //   .from("#main-visual .visual01 .sub .char", {
      //     y: -100,
      //     opacity: 0,
      //     ease: "power2",
      //     stagger: { each: 0.05 },
      //   })
      //   .from(
      //     "#main-visual .visual01 .main .char",
      //     {
      //       y: -100,
      //       opacity: 0,
      //       ease: "power2",
      //       stagger: { each: 0.1 },
      //     },
      //     ">-0.5"
      //   );

      // visual02TL
      //   .from("#main-visual .visual02 .sub .char", {
      //     x: 100,
      //     opacity: 0,
      //     stagger: { each: 0.05 },
      //   })
      //   .from(
      //     "#main-visual .visual02 .main .char",
      //     {
      //       x: 100,
      //       opacity: 0,
      //       stagger: { each: 0.1 },
      //     },
      //     ">-0.5"
      //   );

      const productTL = gsap.timeline();
      const line = document.querySelector("#product .line");

      const productSlider = new Swiper("#product .mask", {
        effect: "fade",
        loop: true,
        pagination: {
          el: "#product .pagination",
        },
        speed: 1500,
        autoplay: {
          delay: 5000,
        },
        on: {
          slideChange: function (swiper) {
            //슬라이드 바뀌는 그 순간. 시작되자마자
            //line.style.width = `${((swiper.realIndex + 1) / 6) * 100}%`;
            gsap.set(line, { scaleX: swiper.realIndex / 6 });

            productSlideReset();
          },
          // slideChangeTransitionStart:()=>{
          // },
          slideChangeTransitionEnd: function (swiper) {
            //슬라이드가 바뀌는게 끝나는 순간
            productSlide();
          },
        },
      });

      productSlideReset();
      productSlide();

      function productSlideReset() {
        gsap.set("#product li .title-box h2", { opacity: 0, y: 100 });
        //set은 시간(duration)이 없다. (그래서 초기화시킬때 많이 쓴다)
        gsap.set("#product li .title-box strong", { opacity: 0, y: 100 });
        gsap.set("#product li .title-box p", { opacity: 0, y: 100 });
        gsap.set("#product li .title-box a", { opacity: 0, y: 100 });
      }

      function productSlide() {
        // > end 기준. < start기준! (timeline의 특징)
        productTL
          .to("#product .swiper-slide-active .title-box h2", { opacity: 1, y: 0, ease: "back", duration: 1 })
          .to("#product .swiper-slide-active .title-box strong", { opacity: 1, y: 0, ease: "back", duration: 1 }, ">-0.85")
          .to("#product .swiper-slide-active .title-box p", { opacity: 1, y: 0, ease: "back", duration: 1 }, ">-0.85")
          .to("#product .swiper-slide-active .title-box a", { opacity: 1, y: 0, ease: "back", duration: 1 }, ">-0.85");
      }

      //gsap.to("#product .swiper-slide-active .item",{opacity:1, y:0, stagger: {each:0.5}});
      //class로 묶어서 stagger로 처리해도 된다. 모두 동일하게 효과를 줄때는 유용!

      new Swiper("#news .notice-list-box", {
        slidesPerView: 4,
        spaceBetween: 10,
      });
      //함수 선언문
      function makeCircleTxt(txt, r = 170, d = 1) {
        //매개변수 안에 값을 미리 넣으면 안써도 값이 들어감!
        const circleTxt = document.querySelector(txt);
        const circleType = new CircleType(circleTxt);
        circleType.radius(r).dir(d);
      }

      makeCircleTxt("#business .circle-txt");
      makeCircleTxt("#product .circle-txt");

      const btnPlay = document.querySelector("#product .btn-play");
      const btnPause = document.querySelector("#product .btn-pause");

      btnPause.addEventListener("click", function () {
        btnPause.style.display = "none"; //style로 css를 control할 수 있다!
        btnPlay.style.display = "block";
        // btnPause.style["font-size"]="35px";
        // btnPause.style.fontSize="35px;"
        productSlider.autoplay.stop();
      }),
        btnPlay.addEventListener("click", function () {
          btnPause.style.display = "block"; //style로 css를 control할 수 있다!
          btnPlay.style.display = "none";
          productSlider.autoplay.start();
        }),
        window.addEventListener("scroll", function () {});

      const businessTL = gsap.timeline();
      businessTL.from("#business .title-box h2", { opacity: 0, y: 100 }).from("#business .title-box p", { opacity: 0, y: 100 }).from("#business ul li", { opacity: 0, y: 100, stagger: 0.1 });

      new fullpage("#main", {
        scrollOverflow: false,
        onLeave: function (origin, destination, direction, trigger) {
          console.log(origin);
          if (origin.index === 0) {
            header.classList.add("color");
            businessTL.restart();
          }
          if (origin.index === 1 && direction === "up") {
            header.classList.remove("color");
          }
        },
        //afterload 는 도착했을 때
        afterLoad: function (origin, destination, direction, trigger) {
          if (destination.index === 1) {
          }
        },
      });
    </script>
  </body>
</html>
